<!DOCTYPE html>
<html layout:decorate="~{account/layout}" lang="en" xmlns:layout="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.w3.org/1999/xhtml">

<div layout:fragment="content">

    <!-- GAME FILTER SECTION -->
    <div class="row">
        <div class="col-sm-12" id="gamePicker">
            <img class="img-circle" id="show-lol" src="https://i1.wp.com/wiki-fx.net/wp-content/uploads/2013/05/League_Of_Legends_Logo1.png?fit=256%2C256">
            <img class="img-circle" id="show-csgo" src="https://versatileservers.com/wp-content/uploads/2017/08/csgo-icon-4.png">
            <img class="img-circle" id="show-fifa" src="http://www.godisageek.com/wp-content/uploads/EA_Sports_LOGO.png">
            <img class="img-circle" id="show-wow" src="https://vignette.wikia.nocookie.net/wow/images/7/77/World_of_warcraft-icon.png/revision/latest?cb=20110530143143&path-prefix=nl">
            <img class="img-circle" id="show-ow" src="http://www.gamasutra.com/db_area/images/news/2017/Sep/306316/ow.jpg">
        </div>

        <div class="col-sm-12">
            <button id="show-available" type="button" class="btn btn-danger">Available to take orders</button>
            <button id="show-taken" type="button" class="btn btn-primary">Taken orders</button>
            <button id="show-done" type="button" class="btn btn-success">Done orders</button>
        </div>
    </div>

    <!-- TODO: make it booster-like (buttons, extra stuff) -->
    <!-- ORDERS LIST SECTION -->
    <div id="pricing-table" class="clear content"></div>
    <div id="all-orders" class="clear">
        <div th:each="order : ${orders}" th:attr="class=${#strings.toLowerCase(order.gameType) +
         '-order plan ' + #strings.toLowerCase(order.status)}">
            <h3><img
                    th:attr="src=${order.gameType.getIcon()}"
                    class="img-circle"></h3>
            <ul>
                <li><b>[[${order.status}]]</b>
                </li>
                <li><b>[[${order.gameType.getName()}]]</b>
                </li>
                <li><b>Current Rank</b> [[${order.currentRank}]]</li>
                <!--<li><b>Goal</b> Plat V</li>-->
                <li><b>Price</b> [[${#numbers.formatDecimal(order.getTotalPrice(), 0, 'COMMA', 2, 'POINT')}]]$</li>
                <li><b>DeadLine</b> [[${order.deadlineString()}]]</li>
                <th:block th:if="${order.status.toString()} eq 'AVAILABLE'">
                    <li><b>Account Name</b> N/A</li>
                    <li><b>Account Password</b> N/A</li>
                    <button type="button" class="btn btn-success">Accept</button>
                </th:block>
                <th:block th:if="${order.status.toString()} eq 'TAKEN'">
                    <!-- TODO: order does NOT have gameAccount yet! fix needed -->
                    <li><b>Account Name</b> [[${order.gameAccount.accountName}]]</li>
                    <li><b>Account Password</b> [[${order.gameAccount.accountPassword}]]</li>
                    <button type="button" class="btn btn-danger">Close</button>
                </th:block>
                <th:block th:if="${order.status.toString()} eq 'DONE'">
                    <li><b>Account Name</b> N/A</li>
                    <li><b>Account Password</b> N/A</li>
                    <button type="button" class="btn btn-primary">Result</button>
                </th:block>
            </ul>
        </div>

    </div>

</div>

</html>
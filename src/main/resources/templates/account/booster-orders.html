<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.w3.org/1999/xhtml"
      layout:decorator="account/layout">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

<div layout:fragment="content">

    <!-- Content Header (Page header) -->
    <section class="content-header">
        <h1>
            Booster Orders
        </h1>
    </section>

    <!-- GAME FILTER SECTION -->
    <div class="row">
        <div class="col-sm-12" id="gamePicker">
            <img class="img-circle" id="show-lol" src="https://i1.wp.com/wiki-fx.net/wp-content/uploads/2013/05/League_Of_Legends_Logo1.png?fit=256%2C256">
            <img class="img-circle" id="show-csgo" src="https://versatileservers.com/wp-content/uploads/2017/08/csgo-icon-4.png">
            <img class="img-circle" id="show-fifa" src="http://www.godisageek.com/wp-content/uploads/EA_Sports_LOGO.png">
            <img class="img-circle" id="show-wow" src="https://vignette.wikia.nocookie.net/wow/images/7/77/World_of_warcraft-icon.png/revision/latest?cb=20110530143143&path-prefix=nl">
            <img class="img-circle" id="show-ow" src="http://www.gamasutra.com/db_area/images/news/2017/Sep/306316/ow.jpg">
        </div>

        <div class="col-sm-12">
            <button id="show-available" type="button" class="btn btn-danger">Available</button>
            <button id="show-taken" type="button" class="btn btn-primary">Taken</button>
            <button id="show-done" type="button" class="btn btn-success">Done</button>
        </div>
    </div>

    <!-- ORDERS LIST SECTION -->
    <div id="pricing-table" class="clear content"></div>
    <div id="all-orders" class="clear" style="display: none">
        <div th:each="order : ${orders}" th:attr="class=${#strings.toLowerCase(order.gameType) +
         '-order plan ' + #strings.toLowerCase(order.status)}">
            <h3><img
                    th:attr="src=${order.gameType.getIcon()}"
                    class="img-circle"></h3>
            <ul>
                </li>
                <li><b>[[${order.status}]]</b>
                </li>
                <li><b>[[${order.gameType.getName()}]]</b>
                </li>
                <li><b>Current Rank</b> [[${order.currentRank}]]</li>
                <!--<li><b>Goal</b> Plat V</li>-->
                <li><b>Price</b> [[${order.getTotalPrice()}]]Éƒ</li>
                <li><b>DeadLine</b> [[${order.deadlineString()}]]</li>
                <th:block th:if="${order.status.toString()} eq 'AVAILABLE'">
                    <li><b>Account Name</b> N/A</li>
                    <li><b>Account Password</b> N/A</li>
                    <form th:action="@{~/accept-order}" method="POST">
                        <input type="text" th:value="${order.id}" name="boostOrderId" hidden>
                        <input type="submit" name="Accept" value="Accept" class="btn btn-success">
                    </form>
                </th:block>
                <th:block th:if="${order.status.toString()} eq 'TAKEN'">
                    <li><b>Account Name</b> [[${order.getGameAccountName()}]]</li>
                    <li><b>Account Password</b> [[${order.getGameAccountPassword()}]]</li>
                    <form th:action="@{~/close-order}" method="POST">
                        <input type="text" th:value="${order.id}" name="boostOrderId" hidden>
                        <input type="submit" name="Close" value="Close" class="btn btn-success">
                    </form>
                </th:block>
                <th:block th:if="${order.status.toString()} eq 'DONE'">
                    <li><b>Account Name</b> N/A</li>
                    <li><b>Account Password</b> N/A</li>
                    <button type="button" class="btn btn-primary">History</button>
                </th:block>
            </ul>
        </div>

    </div>

</div>

</html>